(function(){"use strict";var e={3385:function(e,t,s){var a=s(8077),o=s(5130),r=s(6768);const l={id:"app"};function n(e,t,s,a,o,n){const i=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(i)])}var i={name:"App"},u=s(1241);const c=(0,u.A)(i,[["render",n]]);var d=c,h=s(1387),m=s(4232),p=s.p+"img/Student_exam_cartoon2.51292719.jpg";const b={class:"navbar navbar-expand-lg navbar-dark bg-dark"},k={class:"container"},v={class:"container text-center mt-5"},L={class:"mt-5"};function g(e,t,s,a,o,l){const n=(0,r.g2)("AdminLoginModal"),i=(0,r.g2)("UserLoginModal"),u=(0,r.g2)("UserSignupModal");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",b,[(0,r.Lk)("div",k,[t[8]||(t[8]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Quiz Master",-1)),(0,r.Lk)("button",{class:"navbar-toggler",type:"button",onClick:t[0]||(t[0]=(...e)=>l.toggleNavbar&&l.toggleNavbar(...e))},t[7]||(t[7]=[(0,r.Lk)("span",{class:"navbar-toggler-icon"},null,-1)])),(0,r.Lk)("div",{class:(0,m.C4)(["collapse navbar-collapse justify-content-end",{show:o.navbarOpen}])},[(0,r.Lk)("button",{class:"btn btn-danger mx-2",onClick:t[1]||(t[1]=e=>o.showAdminModal=!0)},"Admin Login"),(0,r.Lk)("button",{class:"btn btn-primary mx-2",onClick:t[2]||(t[2]=e=>o.showUserModal=!0)},"User Login")],2)])]),(0,r.Lk)("div",v,[t[10]||(t[10]=(0,r.Lk)("h1",null,"Welcome to Quiz Master",-1)),t[11]||(t[11]=(0,r.Lk)("h6",null,"Dare to challenge your mind? Step in and find out!",-1)),t[12]||(t[12]=(0,r.Lk)("div",{class:"d-flex justify-content-center"},[(0,r.Lk)("img",{src:p,alt:"Student Exam Cartoon",class:"img-fluid mt-3"})],-1)),(0,r.Lk)("div",L,[t[9]||(t[9]=(0,r.Lk)("p",{style:{"font-size":"1.2rem","font-weight":"bold",color:"#333"}},[(0,r.eW)(" New here? No worries! "),(0,r.Lk)("br"),(0,r.eW)("Create an account and start your journey :) ")],-1)),(0,r.Lk)("button",{class:"btn btn-success",onClick:t[3]||(t[3]=e=>o.showSignupModal=!0)},"Sign Up as a User")]),o.showAdminModal?((0,r.uX)(),(0,r.Wv)(n,{key:0,onClose:t[4]||(t[4]=e=>o.showAdminModal=!1)})):(0,r.Q3)("",!0),o.showUserModal?((0,r.uX)(),(0,r.Wv)(i,{key:1,onClose:t[5]||(t[5]=e=>o.showUserModal=!1)})):(0,r.Q3)("",!0),o.showSignupModal?((0,r.uX)(),(0,r.Wv)(u,{key:2,onClose:t[6]||(t[6]=e=>o.showSignupModal=!1)})):(0,r.Q3)("",!0)])])}const f={class:"custom-modal-backdrop"},y={class:"custom-modal-dialog"},z={class:"custom-modal-content"},C={class:"modal-header"},S={class:"modal-body"},_={class:"mb-3"},q={class:"mb-3"},w={key:0,class:"alert alert-danger mt-3"};function E(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",y,[(0,r.Lk)("div",z,[(0,r.Lk)("div",C,[t[4]||(t[4]=(0,r.Lk)("h5",{class:"modal-title"},"Admin Login",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,r.Lk)("div",S,[(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)((...e)=>n.loginAdmin&&n.loginAdmin(...e),["prevent"]))},[(0,r.Lk)("div",_,[t[5]||(t[5]=(0,r.Lk)("label",{class:"form-label"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.username=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.username]])]),(0,r.Lk)("div",q,[t[6]||(t[6]=(0,r.Lk)("label",{class:"form-label"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",class:"form-control",required:""},null,512),[[o.Jo,l.password]])]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-danger w-100"},"Login",-1))],32),l.error?((0,r.uX)(),(0,r.CE)("div",w,(0,m.v_)(l.error),1)):(0,r.Q3)("",!0)])])])])}s(4114);var Q=s(4373),A={data(){return{username:"",password:"",error:""}},methods:{async loginAdmin(){try{const e=await Q.A.post("http://localhost:5000/api/adminlogin",{username:this.username,password:this.password});200===e.status&&(localStorage.setItem("access_token",e.data.token),this.$router.push("/admin-dashboard"))}catch(e){this.error=e.response?.data?.msg||"Login failed"}}}};const j=(0,u.A)(A,[["render",E],["__scopeId","data-v-87b5d5f8"]]);var X=j;const M={class:"custom-modal-backdrop"},$={class:"custom-modal-dialog"},I={class:"custom-modal-content"},U={class:"modal-header"},x={class:"modal-body"},F={class:"mb-3"},D={class:"mb-3"},B={key:0,class:"alert alert-danger mt-3"};function V(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",M,[(0,r.Lk)("div",$,[(0,r.Lk)("div",I,[(0,r.Lk)("div",U,[t[4]||(t[4]=(0,r.Lk)("h5",{class:"modal-title"},"User Login",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,r.Lk)("div",x,[(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)((...e)=>n.loginUser&&n.loginUser(...e),["prevent"]))},[(0,r.Lk)("div",F,[t[5]||(t[5]=(0,r.Lk)("label",{class:"form-label"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.username=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.username]])]),(0,r.Lk)("div",D,[t[6]||(t[6]=(0,r.Lk)("label",{class:"form-label"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",class:"form-control",required:""},null,512),[[o.Jo,l.password]])]),t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Login",-1))],32),l.error?((0,r.uX)(),(0,r.CE)("div",B,(0,m.v_)(l.error),1)):(0,r.Q3)("",!0)])])])])}var R={data(){return{username:"",password:"",error:""}},methods:{async loginUser(){try{const e=await Q.A.post("http://localhost:5000/api/userlogin",{username:this.username,password:this.password});200===e.status&&(localStorage.setItem("access_token",e.data.token),this.$router.push("/user-dashboard"))}catch(e){this.error=e.response?.data?.msg||"Login failed. Please try again."}}}};const N=(0,u.A)(R,[["render",V],["__scopeId","data-v-8307985e"]]);var T=N;const K={class:"custom-modal-backdrop"},W={class:"custom-modal-dialog"},O={class:"custom-modal-content"},J={class:"modal-header"},P={class:"modal-body"},Y={class:"form-label"},H=["type","onUpdate:modelValue"],G={key:0,class:"alert alert-success mt-3"},Z={key:1,class:"alert alert-danger mt-3"};function ee(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",K,[(0,r.Lk)("div",W,[(0,r.Lk)("div",O,[(0,r.Lk)("div",J,[t[2]||(t[2]=(0,r.Lk)("h5",{class:"modal-title"},"User Signup",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,r.Lk)("div",P,[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)((...e)=>n.signupUser&&n.signupUser(...e),["prevent"]))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.fields,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"mb-3",key:t},[(0,r.Lk)("label",Y,(0,m.v_)(e),1),(0,r.bo)((0,r.Lk)("input",{type:"email"===t?"email":"dob"===t?"date":"password"===t?"password":"text",class:"form-control","onUpdate:modelValue":e=>l.form[t]=e,required:""},null,8,H),[[o.hp,l.form[t]]])]))),128)),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit",class:"btn btn-success w-100"},"Sign Up",-1))],32),l.success?((0,r.uX)(),(0,r.CE)("div",G,(0,m.v_)(l.success),1)):(0,r.Q3)("",!0),l.error?((0,r.uX)(),(0,r.CE)("div",Z,(0,m.v_)(l.error),1)):(0,r.Q3)("",!0)])])])])}var te={data(){return{form:{username:"",email:"",password:"",fullname:"",qualification:"",dob:""},error:"",success:"",fields:{username:"Username",email:"Email",password:"Password",fullname:"Full Name",qualification:"Qualification",dob:"Date of Birth"}}},methods:{async signupUser(){try{const e=await Q.A.post("http://localhost:5000/api/usersignup",this.form);201===e.status||200===e.status?(this.success="Signup successful! You can now log in.",this.error="",this.form={username:"",email:"",password:"",fullname:"",qualification:"",dob:""},setTimeout(()=>{this.$emit("close")},1e3)):(this.error="Signup failed. Please try again.",this.success="")}catch(e){this.error=e.response?.data?.msg||"Signup failed. Try again.",this.success=""}}}};const se=(0,u.A)(te,[["render",ee],["__scopeId","data-v-b78f5ca8"]]);var ae=se,oe={name:"HomeView",components:{AdminLoginModal:X,UserLoginModal:T,UserSignupModal:ae},data(){return{navbarOpen:!1,showAdminModal:!1,showUserModal:!1,showSignupModal:!1}},methods:{toggleNavbar(){this.navbarOpen=!this.navbarOpen}}};const re=(0,u.A)(oe,[["render",g],["__scopeId","data-v-cbb7beea"]]);var le=re;const ne={class:"navbar navbar-expand-lg navbar-dark bg-dark"},ie={class:"container"},ue={class:"container mt-3"},ce={class:"input-group",style:{width:"300px"}},de={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},he={class:"container mt-4"};function me(e,t,s,a,l,n){const i=(0,r.g2)("SubjectsSection"),u=(0,r.g2)("ChaptersSection"),c=(0,r.g2)("QuizzesSection"),d=(0,r.g2)("QuestionsSection"),h=(0,r.g2)("SearchResults");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",ne,[(0,r.Lk)("div",ie,[t[6]||(t[6]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Admin Dashboard",-1)),t[7]||(t[7]=(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,r.Lk)("div",ue,[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)((...e)=>n.search&&n.search(...e),["prevent"])),class:"d-flex justify-content-center"},[(0,r.Lk)("div",ce,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=e=>l.query=e),placeholder:"Search subjects, quizzes, or questions..."},null,512),[[o.Jo,l.query]]),t[5]||(t[5]=(0,r.Lk)("button",{class:"btn btn-sm btn-primary",type:"submit"},"🔍",-1))])],32)]),(0,r.Lk)("div",de,[(0,r.Lk)("button",{class:"btn btn-info me-3",onClick:t[2]||(t[2]=(...e)=>n.goToSummary&&n.goToSummary(...e))},"Summary"),(0,r.Lk)("button",{class:"btn btn-info me-3",onClick:t[3]||(t[3]=(...e)=>n.goToUsers&&n.goToUsers(...e))},"View Users"),(0,r.Lk)("button",{class:"btn btn-danger",onClick:t[4]||(t[4]=(...e)=>n.logout&&n.logout(...e))},"Logout")])])]),(0,r.Lk)("div",he,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Welcome, Admin",-1)),(0,r.bF)(i,{subjects:l.subjects,onRefresh:n.fetchData},null,8,["subjects","onRefresh"]),(0,r.bF)(u,{chapters:l.chapters,subjects:l.subjects,onRefresh:n.fetchData},null,8,["chapters","subjects","onRefresh"]),(0,r.bF)(c,{quizzes:l.quizzes,chapters:l.chapters,onRefresh:n.fetchData},null,8,["quizzes","chapters","onRefresh"]),(0,r.bF)(d,{quizzes:l.quizzes,onRefresh:n.fetchData},null,8,["quizzes","onRefresh"]),l.query?((0,r.uX)(),(0,r.Wv)(h,{key:0,ref:"searchResults",query:l.query,results:l.searchResults},null,8,["query","results"])):(0,r.Q3)("",!0)])])}const pe={class:"card mt-3"},be={class:"card-header bg-info text-dark fw-bold"},ke={class:"card-body"},ve={key:0,class:"list-group"},Le=["onClick"],ge=["onClick"],fe={key:1},ye={class:"modal-dialog"},ze={class:"modal-content"},Ce={class:"modal-header"},Se={class:"modal-body"},_e={class:"mb-3"},qe={class:"mb-3"},we={class:"modal-dialog"},Ee={class:"modal-content"},Qe={class:"modal-header"},Ae={class:"modal-body"},je={class:"mb-3"},Xe={class:"mb-3"};function Me(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",pe,[(0,r.Lk)("div",be,[t[9]||(t[9]=(0,r.eW)(" Manage Subjects ")),(0,r.Lk)("button",{class:"btn btn-sm btn-light float-end",onClick:t[0]||(t[0]=e=>l.showAddSubjectModal=!0)},"+ Add Subject")]),(0,r.Lk)("div",ke,[l.subjects.length?((0,r.uX)(),(0,r.CE)("ul",ve,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.subjects,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},[(0,r.Lk)("strong",null,(0,m.v_)(e.name),1),(0,r.eW)(" - "+(0,m.v_)(e.description)+" ",1),(0,r.Lk)("button",{class:"btn btn-warning btn-sm float-end mx-1",onClick:t=>n.openEditModal(e)},"Edit",8,Le),(0,r.Lk)("button",{class:"btn btn-danger btn-sm float-end",onClick:t=>n.deleteSubject(e.id)},"Delete",8,ge)]))),128))])):((0,r.uX)(),(0,r.CE)("p",fe,"No subjects available."))]),l.showAddSubjectModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,m.C4)(["modal fade",{show:l.showAddSubjectModal}]),style:{display:"block"}},[(0,r.Lk)("div",ye,[(0,r.Lk)("div",ze,[(0,r.Lk)("div",Ce,[t[10]||(t[10]=(0,r.Lk)("h5",{class:"modal-title"},"Add New Subject",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>l.showAddSubjectModal=!1)})]),(0,r.Lk)("div",Se,[(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)((...e)=>n.addSubject&&n.addSubject(...e),["prevent"]))},[(0,r.Lk)("div",_e,[t[11]||(t[11]=(0,r.Lk)("label",{class:"form-label"},"Subject Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newSubject.name=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.newSubject.name]])]),(0,r.Lk)("div",qe,[t[12]||(t[12]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newSubject.description=e),class:"form-control",required:""},null,512),[[o.Jo,l.newSubject.description]])]),t[13]||(t[13]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Add Subject",-1))],32)])])])],2)):(0,r.Q3)("",!0),l.showEditSubjectModal?((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,m.C4)(["modal fade",{show:l.showEditSubjectModal}]),style:{display:"block"}},[(0,r.Lk)("div",we,[(0,r.Lk)("div",Ee,[(0,r.Lk)("div",Qe,[t[14]||(t[14]=(0,r.Lk)("h5",{class:"modal-title"},"Edit Subject",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[5]||(t[5]=e=>l.showEditSubjectModal=!1)})]),(0,r.Lk)("div",Ae,[(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)((...e)=>n.updateSubject&&n.updateSubject(...e),["prevent"]))},[(0,r.Lk)("div",je,[t[15]||(t[15]=(0,r.Lk)("label",{class:"form-label"},"Subject Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.editedSubject.name=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.editedSubject.name]])]),(0,r.Lk)("div",Xe,[t[16]||(t[16]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.editedSubject.description=e),class:"form-control",required:""},null,512),[[o.Jo,l.editedSubject.description]])]),t[17]||(t[17]=(0,r.Lk)("button",{type:"submit",class:"btn btn-success"},"Save Changes",-1))],32)])])])],2)):(0,r.Q3)("",!0)])}var $e={name:"SubjectsSection",data(){return{subjects:[],showAddSubjectModal:!1,showEditSubjectModal:!1,newSubject:{name:"",description:""},editedSubject:{id:null,name:"",description:""},loading:!1,error:""}},mounted(){this.fetchSubjects()},methods:{fetchSubjects(){const e=localStorage.getItem("access_token");this.loading=!0,Q.A.get("http://localhost:5000/api/admin/subjects",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.subjects=e.data.subjects||e.data}).catch(e=>{this.error="Failed to fetch subjects",console.error("Error fetching subjects:",e.response?.data||e)}).finally(()=>{this.loading=!1})},addSubject(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/admin/subjects",this.newSubject,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchSubjects(),this.$emit("refresh"),this.showAddSubjectModal=!1,this.newSubject={name:"",description:""}}).catch(e=>{this.error="Failed to add subject",console.error("Error adding subject:",e.response?.data||e)})},openEditModal(e){this.editedSubject={...e},this.showEditSubjectModal=!0},updateSubject(){const e=localStorage.getItem("access_token");Q.A.put(`http://localhost:5000/api/admin/subjects/${this.editedSubject.id}`,{name:this.editedSubject.name,description:this.editedSubject.description},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchSubjects(),this.$emit("refresh"),this.showEditSubjectModal=!1,this.editedSubject={id:null,name:"",description:""}}).catch(e=>{this.error="Failed to update subject",console.error("Error updating subject:",e.response?.data||e)})},deleteSubject(e){const t=localStorage.getItem("access_token");Q.A.delete(`http://localhost:5000/api/admin/subjects/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(()=>{this.fetchSubjects(),this.$emit("refresh")}).catch(e=>{this.error="Failed to delete subject",console.error("Delete error:",e.response?.data||e)})}}};const Ie=(0,u.A)($e,[["render",Me],["__scopeId","data-v-6b8359c2"]]);var Ue=Ie;const xe={class:"card mt-3"},Fe={class:"card-header bg-info text-dark fw-bold"},De={class:"card-body"},Be={key:0,class:"list-group"},Ve=["onClick"],Re=["onClick"],Ne={key:1},Te={class:"modal-dialog"},Ke={class:"modal-content"},We={class:"modal-header"},Oe={class:"modal-body"},Je={class:"mb-3"},Pe=["value"],Ye={class:"mb-3"},He={class:"mb-3"},Ge={class:"modal-dialog"},Ze={class:"modal-content"},et={class:"modal-header"},tt={class:"modal-body"},st={class:"mb-3"},at=["value"],ot={class:"mb-3"},rt={class:"mb-3"};function lt(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",xe,[(0,r.Lk)("div",Fe,[t[11]||(t[11]=(0,r.eW)(" Manage Chapters ")),(0,r.Lk)("button",{class:"btn btn-sm btn-light float-end",onClick:t[0]||(t[0]=e=>l.showAddModal=!0)},"+ Add Chapter")]),(0,r.Lk)("div",De,[l.chapters.length?((0,r.uX)(),(0,r.CE)("ul",Be,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.chapters,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},[(0,r.Lk)("strong",null,(0,m.v_)(n.getSubjectName(e.subject_id)),1),(0,r.eW)(" → "+(0,m.v_)(e.name)+" - "+(0,m.v_)(e.description)+" ",1),(0,r.Lk)("button",{class:"btn btn-warning btn-sm float-end mx-1",onClick:t=>n.openEditModal(e)},"Edit",8,Ve),(0,r.Lk)("button",{class:"btn btn-danger btn-sm float-end",onClick:t=>n.deleteChapter(e.id)},"Delete",8,Re)]))),128))])):((0,r.uX)(),(0,r.CE)("p",Ne,"No chapters available."))]),l.showAddModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,m.C4)(["modal fade",{show:l.showAddModal}]),style:{display:"block"}},[(0,r.Lk)("div",Te,[(0,r.Lk)("div",Ke,[(0,r.Lk)("div",We,[t[12]||(t[12]=(0,r.Lk)("h5",{class:"modal-title"},"Add New Chapter",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>l.showAddModal=!1)})]),(0,r.Lk)("div",Oe,[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)((...e)=>n.addChapter&&n.addChapter(...e),["prevent"]))},[(0,r.Lk)("div",Je,[t[13]||(t[13]=(0,r.Lk)("label",{class:"form-label"},"Select Subject",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.newChapter.subject_id=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.subjects,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,Pe))),128))],512),[[o.u1,l.newChapter.subject_id]])]),(0,r.Lk)("div",Ye,[t[14]||(t[14]=(0,r.Lk)("label",{class:"form-label"},"Chapter Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newChapter.name=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.newChapter.name]])]),(0,r.Lk)("div",He,[t[15]||(t[15]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.newChapter.description=e),class:"form-control",required:""},null,512),[[o.Jo,l.newChapter.description]])]),t[16]||(t[16]=(0,r.Lk)("button",{type:"submit",class:"btn btn-warning"},"Add Chapter",-1))],32)])])])],2)):(0,r.Q3)("",!0),l.showEditModal?((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,m.C4)(["modal fade",{show:l.showEditModal}]),style:{display:"block"}},[(0,r.Lk)("div",Ge,[(0,r.Lk)("div",Ze,[(0,r.Lk)("div",et,[t[17]||(t[17]=(0,r.Lk)("h5",{class:"modal-title"},"Edit Chapter",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=e=>l.showEditModal=!1)})]),(0,r.Lk)("div",tt,[(0,r.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)((...e)=>n.updateChapter&&n.updateChapter(...e),["prevent"]))},[(0,r.Lk)("div",st,[t[18]||(t[18]=(0,r.Lk)("label",{class:"form-label"},"Select Subject",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>l.editedChapter.subject_id=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.subjects,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,at))),128))],512),[[o.u1,l.editedChapter.subject_id]])]),(0,r.Lk)("div",ot,[t[19]||(t[19]=(0,r.Lk)("label",{class:"form-label"},"Chapter Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.editedChapter.name=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.editedChapter.name]])]),(0,r.Lk)("div",rt,[t[20]||(t[20]=(0,r.Lk)("label",{class:"form-label"},"Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.editedChapter.description=e),class:"form-control",required:""},null,512),[[o.Jo,l.editedChapter.description]])]),t[21]||(t[21]=(0,r.Lk)("button",{type:"submit",class:"btn btn-success"},"Save Changes",-1))],32)])])])],2)):(0,r.Q3)("",!0)])}s(8111),s(116);var nt={name:"ChaptersSection",props:["subjects"],data(){return{chapters:[],loading:!1,error:"",showAddModal:!1,showEditModal:!1,newChapter:{subject_id:"",name:"",description:""},editedChapter:{id:null,subject_id:"",name:"",description:""}}},mounted(){this.fetchChapters()},methods:{getSubjectName(e){const t=this.subjects.find(t=>t.id===e);return t?t.name:"Unknown Subject"},fetchChapters(){const e=localStorage.getItem("access_token");this.loading=!0,Q.A.get("http://localhost:5000/api/admin/chapters",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.chapters=e.data}).catch(e=>{this.error="Failed to fetch chapters",console.error("Error fetching chapters:",e.response?.data||e)}).finally(()=>{this.loading=!1})},addChapter(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/admin/chapters",this.newChapter,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchChapters(),this.$emit("refresh"),this.newChapter={subject_id:"",name:"",description:""},this.showAddModal=!1}).catch(e=>{this.error="Failed to add chapter",console.error("Error adding chapter:",e.response?.data||e)})},openEditModal(e){this.editedChapter={...e},this.showEditModal=!0},updateChapter(){const e=localStorage.getItem("access_token");Q.A.put(`http://localhost:5000/api/admin/chapters/${this.editedChapter.id}`,{name:this.editedChapter.name,subject_id:this.editedChapter.subject_id,description:this.editedChapter.description},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchChapters(),this.showEditModal=!1,this.editedChapter={id:null,subject_id:"",name:"",description:""},this.$emit("refresh")}).catch(e=>{this.error="Failed to update chapter",console.error("Error updating chapter:",e.response?.data||e)})},deleteChapter(e){const t=localStorage.getItem("access_token");Q.A.delete(`http://localhost:5000/api/admin/chapters/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(()=>{this.fetchChapters(),this.$emit("refresh")}).catch(e=>{this.error="Failed to delete chapter",console.error("Error deleting chapter:",e.response?.data||e)})}}};const it=(0,u.A)(nt,[["render",lt],["__scopeId","data-v-44987a1e"]]);var ut=it;const ct={class:"card mt-3"},dt={class:"card-header bg-info text-dark fw-bold"},ht={class:"card-body"},mt={key:0,class:"list-group"},pt=["onClick"],bt=["onClick"],kt={key:1},vt={class:"modal-dialog"},Lt={class:"modal-content"},gt={class:"modal-header"},ft={class:"modal-title"},yt={class:"modal-body"},zt={class:"mb-3"},Ct=["value"],St={class:"mb-3"},_t={class:"mb-3"},qt={class:"mb-3"},wt={type:"submit",class:"btn btn-info"};function Et(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",ct,[(0,r.Lk)("div",dt,[t[7]||(t[7]=(0,r.eW)(" Manage Quizzes ")),(0,r.Lk)("button",{class:"btn btn-sm btn-light float-end",onClick:t[0]||(t[0]=(...e)=>n.openAddModal&&n.openAddModal(...e))},"+ Add Quiz")]),(0,r.Lk)("div",ht,[l.quizzes.length?((0,r.uX)(),(0,r.CE)("ul",mt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.quizzes,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},[(0,r.Lk)("strong",null,(0,m.v_)(n.getChapterName(e.chapter_id)),1),(0,r.eW)(" - Date: "+(0,m.v_)(n.formatDate(e.date))+" | Duration: "+(0,m.v_)(e.time_duration)+" ",1),(0,r.Lk)("button",{class:"btn btn-warning btn-sm float-end mx-1",onClick:t=>n.openEditModal(e)},"Edit",8,pt),(0,r.Lk)("button",{class:"btn btn-danger btn-sm float-end",onClick:t=>n.deleteQuiz(e.id)},"Delete",8,bt)]))),128))])):((0,r.uX)(),(0,r.CE)("p",kt,"No quizzes available."))]),l.showQuizModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,m.C4)(["modal fade",{show:l.showQuizModal}]),style:{display:"block"}},[(0,r.Lk)("div",vt,[(0,r.Lk)("div",Lt,[(0,r.Lk)("div",gt,[(0,r.Lk)("h5",ft,(0,m.v_)(l.isEditMode?"Edit Quiz":"Add Quiz"),1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=(...e)=>n.closeModal&&n.closeModal(...e))})]),(0,r.Lk)("div",yt,[(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(e=>l.isEditMode?n.updateQuiz():n.addQuiz(),["prevent"]))},[(0,r.Lk)("div",zt,[t[8]||(t[8]=(0,r.Lk)("label",{class:"form-label"},"Select Chapter",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.quizForm.chapter_id=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.chapters,e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,Ct))),128))],512),[[o.u1,l.quizForm.chapter_id]])]),(0,r.Lk)("div",St,[t[9]||(t[9]=(0,r.Lk)("label",{class:"form-label"},"Date of Quiz",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>l.quizForm.date=e),required:""},null,512),[[o.Jo,l.quizForm.date]])]),(0,r.Lk)("div",_t,[t[10]||(t[10]=(0,r.Lk)("label",{class:"form-label"},"Time Duration (HH:MM)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>l.quizForm.time_duration=e),required:""},null,512),[[o.Jo,l.quizForm.time_duration]])]),(0,r.Lk)("div",qt,[t[11]||(t[11]=(0,r.Lk)("label",{class:"form-label"},"Remarks",-1)),(0,r.bo)((0,r.Lk)("textarea",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>l.quizForm.remarks=e)},null,512),[[o.Jo,l.quizForm.remarks]])]),(0,r.Lk)("button",wt,(0,m.v_)(l.isEditMode?"Update":"Add")+" Quiz",1)],32)])])])],2)):(0,r.Q3)("",!0)])}var Qt=s(1576),At=s.n(Qt),jt={name:"QuizzesSection",props:["chapters"],data(){return{quizzes:[],quizForm:{id:null,chapter_id:"",date:"",time_duration:"",remarks:""},showQuizModal:!1,isEditMode:!1,error:""}},mounted(){this.fetchQuizzes()},methods:{formatDate(e){return At()(e).format("DD-MM-YYYY")},getChapterName(e){const t=this.chapters.find(t=>t.id===e);return t?t.name:"Unknown Chapter"},fetchQuizzes(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/admin/quizzes",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.quizzes=e.data}).catch(e=>{this.error="Failed to fetch quizzes",console.error(e)})},openAddModal(){this.isEditMode=!1,this.quizForm={id:null,chapter_id:"",date:"",time_duration:"",remarks:""},this.showQuizModal=!0},openEditModal(e){this.isEditMode=!0,this.quizForm={...e},this.showQuizModal=!0},closeModal(){this.showQuizModal=!1},addQuiz(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/admin/quizzes",this.quizForm,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchQuizzes(),this.$emit("refresh"),this.closeModal()}).catch(e=>{this.error="Failed to add quiz",console.error(e)})},updateQuiz(){const e=localStorage.getItem("access_token");Q.A.put(`http://localhost:5000/api/admin/quizzes/${this.quizForm.id}`,this.quizForm,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchQuizzes(),this.$emit("refresh"),this.closeModal()}).catch(e=>{this.error="Failed to update quiz",console.error(e)})},deleteQuiz(e){const t=localStorage.getItem("access_token");Q.A.delete(`http://localhost:5000/api/admin/quizzes/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(()=>{this.fetchQuizzes(),this.$emit("refresh")}).catch(e=>{this.error="Failed to delete quiz",console.error(e)})}}};const Xt=(0,u.A)(jt,[["render",Et],["__scopeId","data-v-3e4e1f46"]]);var Mt=Xt;s(2489);const $t={class:"card mt-3"},It={class:"card-header bg-info text-dark fw-bold"},Ut={class:"card-body"},xt={class:"list-group"},Ft=["onClick"],Dt=["onClick"],Bt={key:1},Vt={class:"modal-dialog"},Rt={class:"modal-content"},Nt={class:"modal-header"},Tt={class:"modal-body"},Kt={class:"mb-3"},Wt=["value"],Ot={class:"mb-3"},Jt={class:"form-label"},Pt=["onUpdate:modelValue"],Yt={class:"mb-3"},Ht=["value"],Gt={class:"modal-dialog"},Zt={class:"modal-content"},es={class:"modal-header"},ts={class:"modal-body"},ss={class:"mb-3"},as={class:"form-label"},os=["onUpdate:modelValue"],rs={class:"mb-3"},ls=["value"];function ns(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",$t,[(0,r.Lk)("div",It,[t[10]||(t[10]=(0,r.eW)(" Manage Questions ")),(0,r.Lk)("button",{class:"btn btn-sm btn-light float-end",onClick:t[0]||(t[0]=e=>l.showAddQuestionModal=!0)},"+ Add Question")]),(0,r.Lk)("div",Ut,[s.quizzes.length?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(s.quizzes,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id},[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,m.v_)(e.chapter?.subject?.Subjectname)+" → "+(0,m.v_)(e.chapter?.Chaptername),1),(0,r.eW)(" - "+(0,m.v_)(n.formatDate(e.date)),1)]),(0,r.Lk)("ul",xt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.questions.filter(t=>t.quiz_id===e.id),e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},[(0,r.eW)((0,m.v_)(e.question)+" ",1),(0,r.Lk)("button",{class:"btn btn-warning btn-sm float-end mx-1",onClick:t=>n.startEdit(e)},"Edit",8,Ft),(0,r.Lk)("button",{class:"btn btn-danger btn-sm float-end",onClick:t=>n.deleteQuestion(e.id)},"Delete",8,Dt)]))),128))])]))),128)):((0,r.uX)(),(0,r.CE)("p",Bt,"No questions available."))]),l.showAddQuestionModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,m.C4)(["modal fade",{show:l.showAddQuestionModal}]),style:{display:"block"}},[(0,r.Lk)("div",Vt,[(0,r.Lk)("div",Rt,[(0,r.Lk)("div",Nt,[t[11]||(t[11]=(0,r.Lk)("h5",{class:"modal-title"},"Add New Question",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=e=>l.showAddQuestionModal=!1)})]),(0,r.Lk)("div",Tt,[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)((...e)=>n.addQuestion&&n.addQuestion(...e),["prevent"]))},[(0,r.Lk)("div",Kt,[t[12]||(t[12]=(0,r.Lk)("label",{class:"form-label"},"Select Quiz",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>l.newQuestion.quiz_id=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.quizzes,e=>((0,r.uX)(),(0,r.CE)("option",{value:e.id,key:e.id},(0,m.v_)(e.chapter?.Chaptername)+" - "+(0,m.v_)(n.formatDate(e.date)),9,Wt))),128))],512),[[o.u1,l.newQuestion.quiz_id]])]),(0,r.Lk)("div",Ot,[t[13]||(t[13]=(0,r.Lk)("label",{class:"form-label"},"Question",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newQuestion.question=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.newQuestion.question]])]),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,e=>(0,r.Lk)("div",{key:e,class:"mb-3"},[(0,r.Lk)("label",Jt,"Option "+(0,m.v_)(e),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t=>l.newQuestion[`option${e}`]=t,type:"text",class:"form-control",required:""},null,8,Pt),[[o.Jo,l.newQuestion[`option${e}`]]])])),64)),(0,r.Lk)("div",Yt,[t[14]||(t[14]=(0,r.Lk)("label",{class:"form-label"},"Correct Option",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>l.newQuestion.correct_option=e),required:""},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,e=>(0,r.Lk)("option",{key:e,value:e},"Option "+(0,m.v_)(e),9,Ht)),64))],512),[[o.u1,l.newQuestion.correct_option]])]),t[15]||(t[15]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Add Question",-1))],32)])])])],2)):(0,r.Q3)("",!0),l.showEditQuestionModal?((0,r.uX)(),(0,r.CE)("div",{key:1,class:(0,m.C4)(["modal fade",{show:l.showEditQuestionModal}]),style:{display:"block"}},[(0,r.Lk)("div",Gt,[(0,r.Lk)("div",Zt,[(0,r.Lk)("div",es,[t[16]||(t[16]=(0,r.Lk)("h5",{class:"modal-title"},"Edit Question",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=e=>l.showEditQuestionModal=!1)})]),(0,r.Lk)("div",ts,[(0,r.Lk)("form",{onSubmit:t[9]||(t[9]=(0,o.D$)((...e)=>n.updateQuestion&&n.updateQuestion(...e),["prevent"]))},[(0,r.Lk)("div",ss,[t[17]||(t[17]=(0,r.Lk)("label",{class:"form-label"},"Question",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.editedQuestion.question=e),type:"text",class:"form-control",required:""},null,512),[[o.Jo,l.editedQuestion.question]])]),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,e=>(0,r.Lk)("div",{key:e,class:"mb-3"},[(0,r.Lk)("label",as,"Option "+(0,m.v_)(e),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t=>l.editedQuestion[`option${e}`]=t,type:"text",class:"form-control",required:""},null,8,os),[[o.Jo,l.editedQuestion[`option${e}`]]])])),64)),(0,r.Lk)("div",rs,[t[18]||(t[18]=(0,r.Lk)("label",{class:"form-label"},"Correct Option",-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>l.editedQuestion.correct_option=e),required:""},[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(4,e=>(0,r.Lk)("option",{key:e,value:e},"Option "+(0,m.v_)(e),9,ls)),64))],512),[[o.u1,l.editedQuestion.correct_option]])]),t[19]||(t[19]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save Changes",-1))],32)])])])],2)):(0,r.Q3)("",!0)])}var is={name:"QuestionsSection",props:["quizzes"],data(){return{questions:[],loading:!1,error:"",showAddQuestionModal:!1,showEditQuestionModal:!1,newQuestion:{quiz_id:"",question:"",option1:"",option2:"",option3:"",option4:"",correct_option:""},editedQuestion:null}},mounted(){this.fetchQuestions()},methods:{formatDate(e){return At()(e).format("DD-MM-YYYY")},fetchQuestions(){const e=localStorage.getItem("access_token");this.loading=!0,Q.A.get("http://localhost:5000/api/admin/questions",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.questions=e.data}).catch(e=>{this.error="Failed to fetch questions",console.error("Error fetching questions:",e)}).finally(()=>{this.loading=!1})},addQuestion(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/admin/questions",this.newQuestion,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchQuestions(),this.$emit("refresh"),this.newQuestion={quiz_id:"",question:"",option1:"",option2:"",option3:"",option4:"",correct_option:""},this.showAddQuestionModal=!1}).catch(e=>{this.error="Failed to add question",console.error("Error adding question:",e)})},deleteQuestion(e){const t=localStorage.getItem("access_token");Q.A.delete(`http://localhost:5000/api/admin/questions/${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(()=>{this.fetchQuestions(),this.$emit("refresh")}).catch(e=>{this.error="Failed to delete question",console.error("Error deleting question:",e)})},startEdit(e){this.editedQuestion={...e},this.showEditQuestionModal=!0},updateQuestion(){const e=localStorage.getItem("access_token");Q.A.put(`http://localhost:5000/api/admin/questions/${this.editedQuestion.id}`,this.editedQuestion,{headers:{Authorization:`Bearer ${e}`}}).then(()=>{this.fetchQuestions(),this.$emit("refresh"),this.showEditQuestionModal=!1,this.editedQuestion=null}).catch(e=>{this.error="Failed to update question",console.error("Error updating question:",e)})}}};const us=(0,u.A)(is,[["render",ns]]);var cs=us;const ds={class:"modal fade",tabindex:"-1",ref:"searchModal"},hs={class:"modal-dialog modal-lg"},ms={class:"modal-content"},ps={class:"modal-header"},bs={class:"modal-title"},ks={class:"modal-body"},vs={key:0},Ls={class:"list-group mb-3"},gs={key:1},fs={class:"list-group mb-3"},ys={key:2},zs={class:"list-group mb-3"},Cs={key:3},Ss={class:"list-group mb-3"},_s={key:1,class:"text-muted"};function qs(e,t,s,a,o,l){return(0,r.uX)(),(0,r.CE)("div",ds,[(0,r.Lk)("div",hs,[(0,r.Lk)("div",ms,[(0,r.Lk)("div",ps,[(0,r.Lk)("h5",bs,'Search Results for "'+(0,m.v_)(s.query)+'"',1),t[0]||(t[0]=(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,r.Lk)("div",ks,[l.hasResults?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[s.results.subjects?.length?((0,r.uX)(),(0,r.CE)("div",vs,[t[1]||(t[1]=(0,r.Lk)("h5",null,"Subjects",-1)),(0,r.Lk)("ul",Ls,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.results.subjects,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.name),1))),128))])])):(0,r.Q3)("",!0),s.results.chapters?.length?((0,r.uX)(),(0,r.CE)("div",gs,[t[2]||(t[2]=(0,r.Lk)("h5",null,"Chapters",-1)),(0,r.Lk)("ul",fs,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.results.chapters,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.name),1))),128))])])):(0,r.Q3)("",!0),s.results.quizzes?.length?((0,r.uX)(),(0,r.CE)("div",ys,[t[3]||(t[3]=(0,r.Lk)("h5",null,"Quizzes",-1)),(0,r.Lk)("ul",zs,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.results.quizzes,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.title)+" (Total Questions: "+(0,m.v_)(e.total_questions)+") ",1))),128))])])):(0,r.Q3)("",!0),s.results.questions?.length?((0,r.uX)(),(0,r.CE)("div",Cs,[t[4]||(t[4]=(0,r.Lk)("h5",null,"Questions",-1)),(0,r.Lk)("ul",Ss,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.results.questions,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.question),1))),128))])])):(0,r.Q3)("",!0)],64)):((0,r.uX)(),(0,r.CE)("p",_s,'No results found for "'+(0,m.v_)(s.query)+'".',1))])])])],512)}var ws={props:{query:String,results:Object},computed:{hasResults(){return["subjects","chapters","quizzes","questions"].some(e=>Array.isArray(this.results?.[e])&&this.results[e].length>0)}},methods:{showModal(){const e=new a.aF(this.$refs.searchModal);e.show()}}};const Es=(0,u.A)(ws,[["render",qs],["__scopeId","data-v-5a3de0e8"]]);var Qs=Es,As={name:"AdminDashboard",components:{SubjectsSection:Ue,ChaptersSection:ut,QuizzesSection:Mt,QuestionsSection:cs,SearchResults:Qs},data(){return{subjects:[],chapters:[],quizzes:[],query:"",searchResults:{},loading:!1,error:null}},mounted(){this.fetchData()},methods:{fetchData(){const e=localStorage.getItem("access_token");this.loading=!0,this.error=null,Promise.all([Q.A.get("http://localhost:5000/api/admin/subjects",{headers:{Authorization:`Bearer ${e}`}}),Q.A.get("http://localhost:5000/api/admin/chapters",{headers:{Authorization:`Bearer ${e}`}}),Q.A.get("http://localhost:5000/api/admin/quizzes",{headers:{Authorization:`Bearer ${e}`}})]).then(([e,t,s])=>{this.subjects=e.data,this.chapters=t.data,this.quizzes=s.data}).catch(e=>{console.error("Error fetching dashboard data:",e),this.error="Failed to load admin data."}).finally(()=>{this.loading=!1})},search(){const e=localStorage.getItem("access_token"),t=this.query.trim();t&&Q.A.get(`http://localhost:5000/api/admin/search?q=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.searchResults={subjects:e.data.subjects||[],chapters:e.data.chapters||[],quizzes:e.data.quizzes||[],questions:e.data.questions||[]},this.$nextTick(()=>{this.$refs.searchResults?.showModal()})}).catch(e=>{console.error("Error during search:",e),this.error="Search failed."})},goToSummary(){this.$router.push("/admin/summary")},goToUsers(){this.$router.push("/admin/view-users")},logout(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/logout",{},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{localStorage.removeItem("access_token"),this.$router.push("/")}).catch(e=>{console.error("Logout failed:",e)})}}};const js=(0,u.A)(As,[["render",me],["__scopeId","data-v-5020e30e"]]);var Xs=js;const Ms={class:"container mt-4"},$s={class:"d-flex justify-content-between align-items-center mb-3"},Is={class:"input-group",style:{"max-width":"400px"}},Us={class:"card"},xs={class:"card-body"},Fs={key:0,class:"table-responsive"},Ds={class:"table table-hover"},Bs={key:1,class:"text-muted"};function Vs(e,t,s,a,l,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ms,[(0,r.Lk)("div",$s,[t[3]||(t[3]=(0,r.Lk)("h4",null,"Registered Users",-1)),(0,r.bF)(i,{to:"/admin-dashboard",class:"btn btn-primary"},{default:(0,r.k6)(()=>t[2]||(t[2]=[(0,r.eW)("Back to Dashboard")])),_:1,__:[2]})]),(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)((...e)=>n.searchUsers&&n.searchUsers(...e),["prevent"])),class:"mb-3 d-flex justify-content-center"},[(0,r.Lk)("div",Is,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=e=>l.query=e),placeholder:"Search users..."},null,512),[[o.Jo,l.query]]),t[4]||(t[4]=(0,r.Lk)("button",{class:"btn btn-sm btn-primary",type:"submit"},"🔍",-1))])],32),(0,r.Lk)("div",Us,[t[6]||(t[6]=(0,r.Lk)("div",{class:"card-header bg-success text-white"},"Users",-1)),(0,r.Lk)("div",xs,[n.filteredUsers.length?((0,r.uX)(),(0,r.CE)("div",Fs,[(0,r.Lk)("table",Ds,[t[5]||(t[5]=(0,r.Lk)("thead",{class:"table-dark"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Username"),(0,r.Lk)("th",null,"Full Name"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Qualification"),(0,r.Lk)("th",null,"DOB"),(0,r.Lk)("th",null,"Role")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredUsers,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,m.v_)(e.username),1),(0,r.Lk)("td",null,(0,m.v_)(e.fullname),1),(0,r.Lk)("td",null,(0,m.v_)(e.email),1),(0,r.Lk)("td",null,(0,m.v_)(e.qualification),1),(0,r.Lk)("td",null,(0,m.v_)(n.formatDate(e.dob)),1),(0,r.Lk)("td",null,(0,m.v_)(e.role),1)]))),128))])])])):((0,r.uX)(),(0,r.CE)("p",Bs,"No users to display."))])])])}var Rs={name:"ViewUsers",data(){return{users:[],query:"",loading:!1,error:""}},computed:{filteredUsers(){if(!this.query)return this.users;const e=this.query.toLowerCase();return this.users.filter(t=>t.username.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.fullname&&t.fullname.toLowerCase().includes(e))}},mounted(){this.fetchUsers()},methods:{formatDate(e){return e?At()(e).format("DD-MM-YYYY"):"N/A"},fetchUsers(){const e=localStorage.getItem("access_token");this.loading=!0,Q.A.get("http://localhost:5000/api/admin/users",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.users=e.data.users}).catch(e=>{console.error("Failed to fetch users:",e),this.error="Error loading user data"}).finally(()=>{this.loading=!1})},searchUsers(){}}};const Ns=(0,u.A)(Rs,[["render",Vs],["__scopeId","data-v-524154d9"]]);var Ts=Ns;const Ks={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Ws={class:"container"},Os={class:"container mt-4"},Js={class:"container mt-4"},Ps=["src"],Ys={class:"container mt-4"},Hs=["src"],Gs={key:0,class:"text-danger mt-3"};function Zs(e,t,s,a,o,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",Ks,[(0,r.Lk)("div",Ws,[t[1]||(t[1]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Quiz Master",-1)),(0,r.Lk)("button",{class:"btn btn-primary ms-auto",onClick:t[0]||(t[0]=(...e)=>l.goBack&&l.goBack(...e))},"Back to Dashboard")])]),(0,r.Lk)("div",Os,[t[4]||(t[4]=(0,r.Lk)("h2",{class:"text-center"},"Admin Summary",-1)),(0,r.Lk)("div",Js,[t[2]||(t[2]=(0,r.Lk)("h5",null,"Quiz Statistics",-1)),o.charts.length?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"img-fluid",src:`http://localhost:5000${o.charts[1]}`,alt:"Quiz Statistics Chart"},null,8,Ps)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ys,[t[3]||(t[3]=(0,r.Lk)("h5",null,"User Quiz Participation",-1)),o.charts.length?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"img-fluid",src:`http://localhost:5000${o.charts[0]}`,alt:"User Participation Chart"},null,8,Hs)):(0,r.Q3)("",!0)]),o.error?((0,r.uX)(),(0,r.CE)("p",Gs,(0,m.v_)(o.error),1)):(0,r.Q3)("",!0)])])}var ea={name:"AdminSummaryPage",data(){return{charts:[],error:""}},mounted(){this.fetchSummary()},methods:{fetchSummary(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/admin/summary",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.charts=e.data.charts}).catch(e=>{console.error("Error loading summary:",e),this.error="Failed to load summary charts."})},goBack(){this.$router.push("/admin-dashboard")}}};const ta=(0,u.A)(ea,[["render",Zs],["__scopeId","data-v-da58c6c2"]]);var sa=ta;const aa={class:"navbar navbar-expand-lg navbar-dark bg-dark"},oa={class:"container-fluid"},ra={class:"navbar-brand me-auto",href:"#"},la={class:"mx-auto",style:{width:"300px"}},na={class:"input-group input-group-sm"},ia={class:"d-flex ms-auto"},ua={key:0,class:"modal fade show d-block",tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"}},ca={class:"modal-dialog modal-lg"},da={class:"modal-content"},ha={class:"modal-header"},ma={class:"modal-title"},pa={class:"modal-body"},ba={key:0},ka={class:"list-group mb-3"},va={key:1},La={class:"list-group mb-3"},ga={key:2},fa={class:"list-group mb-3"},ya={key:3},za={class:"list-group mb-3"},Ca={key:1,class:"text-muted"},Sa={class:"container mt-4"},_a={key:0},qa={class:"table table-striped"},wa=["onClick"],Ea={key:0,class:"badge bg-danger"},Qa=["onClick"],Aa={key:0,class:"modal fade show d-block",tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"}},ja={class:"modal-dialog"},Xa={class:"modal-content"},Ma={class:"modal-header"},$a={class:"modal-body"},Ia={key:0,class:"text-danger"},Ua={key:1};function xa(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",aa,[(0,r.Lk)("div",oa,[(0,r.Lk)("a",ra," Welcome "+(0,m.v_)(l.user?.fullname||"User")+", to Quiz Master ",1),(0,r.Lk)("div",la,[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)((...e)=>n.search&&n.search(...e),["prevent"])),class:"d-flex"},[(0,r.Lk)("div",na,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.query=e),placeholder:"Search subjects or quizzes..."},null,512),[[o.Jo,l.query]]),t[7]||(t[7]=(0,r.Lk)("button",{class:"btn btn-primary",type:"submit"},"🔍",-1))])],32)]),(0,r.Lk)("div",ia,[(0,r.Lk)("button",{class:"btn btn-info me-2 btn-sm",onClick:t[2]||(t[2]=(...e)=>n.goToSummary&&n.goToSummary(...e))},"📊 Summary"),(0,r.Lk)("button",{class:"btn btn-warning me-2 btn-sm",onClick:t[3]||(t[3]=(...e)=>n.goToScores&&n.goToScores(...e))},"View Scores"),(0,r.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t[4]||(t[4]=(...e)=>n.logout&&n.logout(...e))},"Logout")])])]),l.showSearchModal?((0,r.uX)(),(0,r.CE)("div",ua,[(0,r.Lk)("div",ca,[(0,r.Lk)("div",da,[(0,r.Lk)("div",ha,[(0,r.Lk)("h5",ma,'Search Results for "'+(0,m.v_)(l.query)+'"',1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[5]||(t[5]=e=>l.showSearchModal=!1)})]),(0,r.Lk)("div",pa,[n.hasSearchResults?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[l.searchResults.subjects.length?((0,r.uX)(),(0,r.CE)("div",ba,[t[8]||(t[8]=(0,r.Lk)("h5",null,"Subjects",-1)),(0,r.Lk)("ul",ka,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.searchResults.subjects,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.name),1))),128))])])):(0,r.Q3)("",!0),l.searchResults.chapters.length?((0,r.uX)(),(0,r.CE)("div",va,[t[9]||(t[9]=(0,r.Lk)("h5",null,"Chapters",-1)),(0,r.Lk)("ul",La,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.searchResults.chapters,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.name),1))),128))])])):(0,r.Q3)("",!0),l.searchResults.quizzes.length?((0,r.uX)(),(0,r.CE)("div",ga,[t[10]||(t[10]=(0,r.Lk)("h5",null,"Quizzes",-1)),(0,r.Lk)("ul",fa,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.searchResults.quizzes,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.title)+" (Total Questions: "+(0,m.v_)(e.total_questions)+") ",1))),128))])])):(0,r.Q3)("",!0),l.searchResults.questions.length?((0,r.uX)(),(0,r.CE)("div",ya,[t[11]||(t[11]=(0,r.Lk)("h5",null,"Questions",-1)),(0,r.Lk)("ul",za,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.searchResults.questions,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"list-group-item"},(0,m.v_)(e.question),1))),128))])])):(0,r.Q3)("",!0)],64)):((0,r.uX)(),(0,r.CE)("p",Ca,'No results found for "'+(0,m.v_)(l.query)+'".',1))])])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Sa,[t[21]||(t[21]=(0,r.Lk)("h5",null,"Upcoming Quizzes",-1)),l.quizzes.length?((0,r.uX)(),(0,r.CE)("div",_a,[(0,r.Lk)("table",qa,[t[12]||(t[12]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Subject"),(0,r.Lk)("th",null,"Chapter"),(0,r.Lk)("th",null,"No. of Questions"),(0,r.Lk)("th",null,"Scheduled Date"),(0,r.Lk)("th",null,"Duration(HH:MM)"),(0,r.Lk)("th",null,"Action")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.quizzes,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.quiz.id},[(0,r.Lk)("td",null,(0,m.v_)(e.quiz.id),1),(0,r.Lk)("td",null,(0,m.v_)(e.subject.name),1),(0,r.Lk)("td",null,(0,m.v_)(e.chapter.name),1),(0,r.Lk)("td",null,(0,m.v_)(e.quiz.total_questions),1),(0,r.Lk)("td",null,(0,m.v_)(n.formatDate(e.quiz.date)),1),(0,r.Lk)("td",null,(0,m.v_)(e.quiz.duration),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-info btn-sm",onClick:t=>n.openModal(e.quiz.id)},"View",8,wa),e.is_expired?((0,r.uX)(),(0,r.CE)("span",Ea,"Deadline passed")):((0,r.uX)(),(0,r.CE)("button",{key:1,class:"btn btn-success btn-sm",onClick:t=>n.startQuiz(e.quiz.id)},"Start",8,Qa))])]))),128))])]),l.selectedQuiz?((0,r.uX)(),(0,r.CE)("div",Aa,[(0,r.Lk)("div",ja,[(0,r.Lk)("div",Xa,[(0,r.Lk)("div",Ma,[t[13]||(t[13]=(0,r.Lk)("h5",{class:"modal-title"},"Quiz Details",-1)),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[6]||(t[6]=e=>l.selectedQuiz=null)})]),(0,r.Lk)("div",$a,[(0,r.Lk)("p",null,[t[14]||(t[14]=(0,r.Lk)("strong",null,"ID:",-1)),(0,r.eW)(" "+(0,m.v_)(l.selectedQuiz.quiz.id),1)]),(0,r.Lk)("p",null,[t[15]||(t[15]=(0,r.Lk)("strong",null,"Subject:",-1)),(0,r.eW)(" "+(0,m.v_)(l.selectedQuiz.subject.name),1)]),(0,r.Lk)("p",null,[t[16]||(t[16]=(0,r.Lk)("strong",null,"Chapter:",-1)),(0,r.eW)(" "+(0,m.v_)(l.selectedQuiz.chapter.name),1)]),(0,r.Lk)("p",null,[t[17]||(t[17]=(0,r.Lk)("strong",null,"No. of Questions:",-1)),(0,r.eW)(" "+(0,m.v_)(l.selectedQuiz.quiz.total_questions),1)]),(0,r.Lk)("p",null,[t[18]||(t[18]=(0,r.Lk)("strong",null,"Scheduled Date:",-1)),(0,r.eW)(" "+(0,m.v_)(n.formatDate(l.selectedQuiz.quiz.date)),1)]),(0,r.Lk)("p",null,[t[19]||(t[19]=(0,r.Lk)("strong",null,"Duration (HH:MM) :",-1)),(0,r.eW)(" "+(0,m.v_)(l.selectedQuiz.quiz.duration),1)]),l.selectedQuiz.is_expired?((0,r.uX)(),(0,r.CE)("p",Ia,t[20]||(t[20]=[(0,r.Lk)("strong",null,"⚠ This quiz is no longer available.",-1)]))):(0,r.Q3)("",!0)])])])])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("p",Ua,"No upcoming quizzes available."))])])}var Fa={name:"UserDashboard",data(){return{query:"",subjects:[],quizzes:[],selectedQuiz:null,error:null,user:null,searchResults:{subjects:[],chapters:[],quizzes:[],questions:[]},showSearchModal:!1}},mounted(){this.fetchUserData()},computed:{hasSearchResults(){const e=this.searchResults;return e.subjects.length||e.chapters.length||e.quizzes.length||e.questions.length}},methods:{fetchUserData(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/user/dashboard",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.user=e.data.user,this.subjects=e.data.subjects,this.quizzes=e.data.upcoming_quizzes}).catch(e=>{console.error("Error loading user dashboard:",e),this.error="Failed to load user data."})},search(){const e=localStorage.getItem("access_token");this.query.trim()&&Q.A.get(`http://localhost:5000/api/admin/search?q=${encodeURIComponent(this.query)}`,{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.searchResults=e.data,this.showSearchModal=!0}).catch(e=>{console.error("Search error:",e),this.error="Failed to search."})},goToSummary(){this.$router.push("/user/summary")},goToScores(){this.$router.push("/user/quiz-scores")},logout(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/logout",{},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{localStorage.removeItem("access_token"),this.$router.push("/")})},openModal(e){this.selectedQuiz=this.quizzes.find(t=>t.quiz.id===e)},startQuiz(e){this.$router.push(`/quiz/start/${e}`)},formatDate(e){const t=new Date(e);return t.toLocaleDateString("en-GB")}}};const Da=(0,u.A)(Fa,[["render",xa],["__scopeId","data-v-7694d4ab"]]);var Ba=Da;const Va={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Ra={class:"container"},Na={class:"container mt-4"},Ta={class:"container mt-4"},Ka=["src"],Wa={key:1,class:"text-danger mt-3"};function Oa(e,t,s,a,o,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",Va,[(0,r.Lk)("div",Ra,[t[1]||(t[1]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Quiz Master",-1)),(0,r.Lk)("button",{class:"btn btn-primary ms-auto",onClick:t[0]||(t[0]=(...e)=>l.goBack&&l.goBack(...e))},"Back to Dashboard")])]),(0,r.Lk)("div",Na,[t[3]||(t[3]=(0,r.Lk)("h2",{class:"text-center"},"Your Performance Summary",-1)),(0,r.Lk)("div",Ta,[t[2]||(t[2]=(0,r.Lk)("h5",null,"Your Performance Over Time",-1)),o.chart?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"img-fluid",src:`http://localhost:5000${o.chart}`,alt:"Performance Chart"},null,8,Ka)):(0,r.Q3)("",!0),o.error?((0,r.uX)(),(0,r.CE)("p",Wa,(0,m.v_)(o.error),1)):(0,r.Q3)("",!0)])])])}var Ja={name:"UserSummaryPage",data(){return{chart:"",error:""}},mounted(){this.fetchSummary()},methods:{fetchSummary(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/user/summary",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.chart=e.data.chart}).catch(e=>{console.error("Error loading user summary:",e),this.error="Failed to load performance chart."})},goBack(){this.$router.push("/user-dashboard")}}};const Pa=(0,u.A)(Ja,[["render",Oa],["__scopeId","data-v-3d724296"]]);var Ya=Pa;const Ha={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Ga={class:"container d-flex justify-content-between align-items-center"},Za={class:"d-flex align-items-center gap-2"},eo={class:"container mt-4"},to={key:0},so={class:"table table-striped"},ao=["onClick"],oo={key:0},ro=["onClick"],lo={key:1,class:"text-success"},no={key:1},io={key:0,class:"modal fade show d-block",style:{"background-color":"rgba(0,0,0,0.5)"},tabindex:"-1"},uo={class:"modal-dialog modal-lg"},co={class:"modal-content"},ho={class:"modal-header"},mo={class:"modal-title"},po={class:"modal-body"};function bo(e,t,s,a,o,l){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",Ha,[(0,r.Lk)("div",Ga,[t[3]||(t[3]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Quiz Master",-1)),(0,r.Lk)("div",Za,[(0,r.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>l.exportScores&&l.exportScores(...e))},"Export as CSV"),(0,r.Lk)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>l.goBack&&l.goBack(...e))},"Back to Dashboard")])])]),(0,r.Lk)("div",eo,[t[5]||(t[5]=(0,r.Lk)("h5",null,"Your Past Quiz Scores",-1)),o.scores.length?((0,r.uX)(),(0,r.CE)("div",to,[(0,r.Lk)("table",so,[t[4]||(t[4]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Quiz"),(0,r.Lk)("th",null,"Chapter"),(0,r.Lk)("th",null,"Subject"),(0,r.Lk)("th",null,"Date and Time"),(0,r.Lk)("th",null,"Score"),(0,r.Lk)("th",null,"Action")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.scores,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.score_id},[(0,r.Lk)("td",null,(0,m.v_)(e.quiz_id),1),(0,r.Lk)("td",null,(0,m.v_)(e.chapter_name),1),(0,r.Lk)("td",null,(0,m.v_)(e.subject_name),1),(0,r.Lk)("td",null,(0,m.v_)(e.timestamp),1),(0,r.Lk)("td",null,(0,m.v_)(e.total_score.toFixed(2))+"%",1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-info btn-sm",onClick:t=>l.openAnswersModal(e)},"View Answers",8,ao),e.retake_allowed?((0,r.uX)(),(0,r.CE)("span",oo,[(0,r.Lk)("button",{class:"btn btn-warning btn-sm",onClick:t=>l.retakeQuiz(e.quiz_id)},"Retake Quiz",8,ro)])):((0,r.uX)(),(0,r.CE)("span",lo,"Passed"))])]))),128))])])])):((0,r.uX)(),(0,r.CE)("p",no,"No quiz attempts found."))]),o.selectedScore?((0,r.uX)(),(0,r.CE)("div",io,[(0,r.Lk)("div",uo,[(0,r.Lk)("div",co,[(0,r.Lk)("div",ho,[(0,r.Lk)("h5",mo,"Quiz Answers - "+(0,m.v_)(o.selectedScore.quiz_id),1),(0,r.Lk)("button",{type:"button",class:"btn-close",onClick:t[2]||(t[2]=e=>o.selectedScore=null)})]),(0,r.Lk)("div",po,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.selectedScore.questions,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"mb-3"},[(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Q:",-1)),(0,r.eW)(" "+(0,m.v_)(e.statement),1)]),(0,r.Lk)("p",{style:(0,m.Tr)({color:e.user_answer===e.correct_answer?"green":"red"})},[t[7]||(t[7]=(0,r.Lk)("strong",null,"Your Answer:",-1)),(0,r.eW)(" "+(0,m.v_)(e.user_answer||"Not Answered"),1)],4),(0,r.Lk)("p",null,[t[8]||(t[8]=(0,r.Lk)("strong",null,"Correct Answer:",-1)),(0,r.eW)(" "+(0,m.v_)(e.correct_answer),1)]),t[9]||(t[9]=(0,r.Lk)("hr",null,null,-1))]))),128))])])])])):(0,r.Q3)("",!0)])}var ko={name:"UserQuizScore",data(){return{scores:[],selectedScore:null,error:""}},mounted(){this.fetchScores()},methods:{fetchScores(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/user/scores",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{this.scores=e.data.scores}).catch(e=>{console.error("Failed to fetch scores:",e),this.error="Error loading scores."})},exportScores(){const e=localStorage.getItem("access_token");Q.A.get("http://localhost:5000/api/user/export-scores",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{const t=e.data.filename,s=`http://localhost:5000/static/exports/${t}`;window.open(s,"_blank")}).catch(e=>{console.error("Export failed:",e)})},openAnswersModal(e){this.selectedScore=e},retakeQuiz(e){this.$router.push(`/quiz/start/${e}`)},goBack(){this.$router.push("/user-dashboard")}}};const vo=(0,u.A)(ko,[["render",bo],["__scopeId","data-v-2711b6e6"]]);var Lo=vo;const go={class:"navbar navbar-dark bg-dark"},fo={class:"container"},yo={class:"container mt-4"},zo={class:"text-center"},Co={class:"alert alert-warning text-center"},So={class:"card-body"},_o=["name","value","onUpdate:modelValue"],qo={class:"form-check-label"};function wo(e,t,s,a,l,n){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("nav",go,[(0,r.Lk)("div",fo,[t[2]||(t[2]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},"Quiz Master",-1)),(0,r.Lk)("button",{class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},"Logout")])]),(0,r.Lk)("div",yo,[(0,r.Lk)("h2",zo,"Quiz: "+(0,m.v_)(l.quiz.chapter),1),(0,r.Lk)("div",Co,[t[3]||(t[3]=(0,r.eW)(" ⏳ Time Left: ")),(0,r.Lk)("span",null,(0,m.v_)(n.formattedTime),1)]),(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)((...e)=>n.submitQuiz&&n.submitQuiz(...e),["prevent"]))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.quiz.questions,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"card my-3"},[(0,r.Lk)("div",So,[(0,r.Lk)("h5",null,"Q"+(0,m.v_)(t+1)+": "+(0,m.v_)(e.statement),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.options,t=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"form-check"},[(0,r.bo)((0,r.Lk)("input",{class:"form-check-input",type:"radio",name:`answer-${e.id}`,value:t,"onUpdate:modelValue":t=>l.userAnswers[e.id]=t,required:""},null,8,_o),[[o.XL,l.userAnswers[e.id]]]),(0,r.Lk)("label",qo,(0,m.v_)(t),1)]))),128))])]))),128)),t[4]||(t[4]=(0,r.Lk)("button",{type:"submit",class:"btn btn-success w-100"},"Submit Quiz",-1))],32)])])}s(1701);var Eo={name:"AttemptQuiz",data(){return{quiz:{chapter:"",questions:[],duration:"00:00"},userAnswers:{},timer:0,timerInterval:null}},computed:{formattedTime(){const e=Math.floor(this.timer/3600).toString().padStart(2,"0"),t=Math.floor(this.timer%3600/60).toString().padStart(2,"0"),s=(this.timer%60).toString().padStart(2,"0");return`${e}:${t}:${s}`}},mounted(){this.loadQuiz()},methods:{loadQuiz(){const e=localStorage.getItem("access_token"),t=this.$route.params.quiz_id;Q.A.get(`http://localhost:5000/api/user/quiz/${t}/start`,{headers:{Authorization:`Bearer ${e}`}}).then(e=>{const s=e.data.quiz;this.quiz={chapter:s.title||`Quiz ${t}`,duration:s.duration||"00:30",questions:s.questions.map(e=>({id:e.id,statement:e.statement,options:e.options}))},this.initTimer(t,this.quiz.duration)}).catch(e=>{console.error("Failed to start quiz:",e),alert("Could not start quiz."),this.$router.push("/user-dashboard")})},initTimer(e,t){const[s,a]=t.split(":").map(Number),o=3600*s+60*a,r=sessionStorage.getItem(`quiz_timer_${e}`);this.timer=r?parseInt(r):o,this.timerInterval=setInterval(()=>{this.timer>0?(this.timer--,sessionStorage.setItem(`quiz_timer_${e}`,this.timer)):(clearInterval(this.timerInterval),this.submitQuiz())},1e3)},submitQuiz(){const e=this.$route.params.quiz_id,t=localStorage.getItem("access_token");Q.A.post(`http://localhost:5000/api/user/quiz/${e}/submit`,{answers:this.userAnswers},{headers:{Authorization:`Bearer ${t}`}}).then(t=>{clearInterval(this.timerInterval),sessionStorage.removeItem(`quiz_timer_${e}`),alert(`Quiz Submitted! Your Score: ${t.data.score.toFixed(2)}%`),this.$router.push("/user/quiz-scores")}).catch(()=>{alert("Failed to submit quiz.")})},logout(){const e=localStorage.getItem("access_token");Q.A.post("http://localhost:5000/api/logout",{},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{localStorage.removeItem("access_token"),this.$router.push("/")})}},beforeUnmount(){clearInterval(this.timerInterval)}};const Qo=(0,u.A)(Eo,[["render",wo],["__scopeId","data-v-9ad50b36"]]);var Ao=Qo;const jo=[{path:"/",name:"Home",component:le},{path:"/admin-dashboard",name:"AdminDashboard",component:Xs},{path:"/admin/view-users",name:"ViewUsers",component:Ts},{path:"/admin/summary",name:"AdminSummary",component:sa},{path:"/user-dashboard",name:"UserDashboard",component:Ba},{path:"/user/summary",name:"UserSummary",component:Ya},{path:"/user/quiz-scores",name:"UserQuizScore",component:Lo},{path:"/quiz/start/:quiz_id",name:"AttemptQuiz",component:Ao}],Xo=(0,h.aE)({history:(0,h.LA)(),routes:jo});var Mo=Xo;(0,o.Ef)(d).use(Mo).mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,r){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(s.O).every(function(e){return s.O[e](a[i])})?a.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,l=a[0],n=a[1],i=a[2],u=0;if(l.some(function(t){return 0!==e[t]})){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var c=i(s)}for(t&&t(a);u<l.length;u++)r=l[u],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},a=self["webpackChunkquiz_master"]=self["webpackChunkquiz_master"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(3385)});a=s.O(a)})();
//# sourceMappingURL=app.96718be2.js.map